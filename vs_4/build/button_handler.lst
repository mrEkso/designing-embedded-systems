ARM GAS  C:\Users\main\AppData\Local\Temp\ccJ1teBU.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"button_handler.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ButtonHandler_initial,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.code	16
  21              		.thumb_func
  23              	ButtonHandler_initial:
  24              	.LVL0:
  25              	.LFB232:
  26              		.file 1 "Core/Src/button_handler.c"
   1:Core/Src/button_handler.c **** #include "button_handler.h"
   2:Core/Src/button_handler.c **** #include "lcd_display.h"
   3:Core/Src/button_handler.c **** #include "stm32c0xx_hal.h"
   4:Core/Src/button_handler.c **** #include "events.h"
   5:Core/Src/button_handler.c **** 
   6:Core/Src/button_handler.c **** // Статичний об'єкт AO
   7:Core/Src/button_handler.c **** static ButtonHandler l_ButtonHandler;
   8:Core/Src/button_handler.c **** 
   9:Core/Src/button_handler.c **** // Правильне оголошення вказівника
  10:Core/Src/button_handler.c **** QActive *AO_ButtonHandler = &l_ButtonHandler.super;
  11:Core/Src/button_handler.c **** 
  12:Core/Src/button_handler.c **** // Прототипи станів
  13:Core/Src/button_handler.c **** static QState ButtonHandler_initial(ButtonHandler * const me, QEvt const * const e);
  14:Core/Src/button_handler.c **** static QState ButtonHandler_active(ButtonHandler * const me, QEvt const * const e);
  15:Core/Src/button_handler.c **** 
  16:Core/Src/button_handler.c **** // Конструктор AO
  17:Core/Src/button_handler.c **** void ButtonHandler_ctor(void) {
  18:Core/Src/button_handler.c ****     QActive_ctor(&l_ButtonHandler.super, Q_STATE_CAST(&ButtonHandler_initial));
  19:Core/Src/button_handler.c **** }
  20:Core/Src/button_handler.c **** 
  21:Core/Src/button_handler.c **** // Початковий стан
  22:Core/Src/button_handler.c **** static QState ButtonHandler_initial(ButtonHandler * const me, QEvt const * const e) {
  27              		.loc 1 22 85 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  23:Core/Src/button_handler.c ****     (void)e;
  32              		.loc 1 23 5 view .LVU1
  24:Core/Src/button_handler.c ****     return Q_TRAN(&ButtonHandler_active);
  33              		.loc 1 24 5 view .LVU2
  34              		.loc 1 24 12 is_stmt 0 view .LVU3
ARM GAS  C:\Users\main\AppData\Local\Temp\ccJ1teBU.s 			page 2


  35 0000 014B     		ldr	r3, .L2
  36 0002 8360     		str	r3, [r0, #8]
  25:Core/Src/button_handler.c **** }
  37              		.loc 1 25 1 view .LVU4
  38 0004 0720     		movs	r0, #7
  39              	.LVL1:
  40              		.loc 1 25 1 view .LVU5
  41              		@ sp needed
  42 0006 7047     		bx	lr
  43              	.L3:
  44              		.align	2
  45              	.L2:
  46 0008 00000000 		.word	ButtonHandler_active
  47              		.cfi_endproc
  48              	.LFE232:
  50              		.section	.text.ButtonHandler_active,"ax",%progbits
  51              		.align	1
  52              		.syntax unified
  53              		.code	16
  54              		.thumb_func
  56              	ButtonHandler_active:
  57              	.LVL2:
  58              	.LFB233:
  26:Core/Src/button_handler.c **** 
  27:Core/Src/button_handler.c **** // Головний стан
  28:Core/Src/button_handler.c **** static QState ButtonHandler_active(ButtonHandler * const me, QEvt const * const e) {
  59              		.loc 1 28 84 is_stmt 1 view -0
  60              		.cfi_startproc
  61              		@ args = 0, pretend = 0, frame = 0
  62              		@ frame_needed = 0, uses_anonymous_args = 0
  63              		.loc 1 28 84 is_stmt 0 view .LVU7
  64 0000 10B5     		push	{r4, lr}
  65              	.LCFI0:
  66              		.cfi_def_cfa_offset 8
  67              		.cfi_offset 4, -8
  68              		.cfi_offset 14, -4
  29:Core/Src/button_handler.c ****     switch (e->sig) {
  69              		.loc 1 29 5 is_stmt 1 view .LVU8
  70              		.loc 1 29 14 is_stmt 0 view .LVU9
  71 0002 0B88     		ldrh	r3, [r1]
  72              		.loc 1 29 5 view .LVU10
  73 0004 042B     		cmp	r3, #4
  74 0006 03D0     		beq	.L7
  30:Core/Src/button_handler.c ****         case BUTTON_PRESSED_SIG: {
  31:Core/Src/button_handler.c ****             static QEvt const buttonEvt = {BUTTON_PRESSED_SIG};
  32:Core/Src/button_handler.c ****             QACTIVE_POST(AO_LCD_Display, &buttonEvt, me);  // ✅ Виправлено
  33:Core/Src/button_handler.c ****             return Q_HANDLED();
  34:Core/Src/button_handler.c ****         }
  35:Core/Src/button_handler.c ****     }
  36:Core/Src/button_handler.c ****     return Q_SUPER(&QHsm_top);
  75              		.loc 1 36 5 is_stmt 1 view .LVU11
  76              		.loc 1 36 12 is_stmt 0 view .LVU12
  77 0008 064B     		ldr	r3, .L8
  78 000a 8360     		str	r3, [r0, #8]
  79 000c 0020     		movs	r0, #0
  80              	.LVL3:
  81              	.L4:
ARM GAS  C:\Users\main\AppData\Local\Temp\ccJ1teBU.s 			page 3


  37:Core/Src/button_handler.c **** }...
  82              		.loc 1 37 1 view .LVU13
  83              		@ sp needed
  84 000e 10BD     		pop	{r4, pc}
  85              	.LVL4:
  86              	.L7:
  87              	.LBB2:
  31:Core/Src/button_handler.c ****             static QEvt const buttonEvt = {BUTTON_PRESSED_SIG};
  88              		.loc 1 31 13 is_stmt 1 view .LVU14
  32:Core/Src/button_handler.c ****             QACTIVE_POST(AO_LCD_Display, &buttonEvt, me);  // ✅ Виправлено
  89              		.loc 1 32 13 view .LVU15
  90 0010 054B     		ldr	r3, .L8+4
  91 0012 1868     		ldr	r0, [r3]
  92              	.LVL5:
  32:Core/Src/button_handler.c ****             QACTIVE_POST(AO_LCD_Display, &buttonEvt, me);  // ✅ Виправлено
  93              		.loc 1 32 13 is_stmt 0 view .LVU16
  94 0014 0023     		movs	r3, #0
  95 0016 054A     		ldr	r2, .L8+8
  96 0018 0549     		ldr	r1, .L8+12
  97              	.LVL6:
  32:Core/Src/button_handler.c ****             QACTIVE_POST(AO_LCD_Display, &buttonEvt, me);  // ✅ Виправлено
  98              		.loc 1 32 13 view .LVU17
  99 001a FFF7FEFF 		bl	QActive_post_
 100              	.LVL7:
  33:Core/Src/button_handler.c ****             return Q_HANDLED();
 101              		.loc 1 33 13 is_stmt 1 view .LVU18
  33:Core/Src/button_handler.c ****             return Q_HANDLED();
 102              		.loc 1 33 20 is_stmt 0 view .LVU19
 103 001e 0220     		movs	r0, #2
 104 0020 F5E7     		b	.L4
 105              	.L9:
 106 0022 C046     		.align	2
 107              	.L8:
 108 0024 00000000 		.word	QHsm_top
 109 0028 00000000 		.word	AO_LCD_Display
 110 002c FFFF0000 		.word	65535
 111 0030 00000000 		.word	.LANCHOR0
 112              	.LBE2:
 113              		.cfi_endproc
 114              	.LFE233:
 116              		.section	.text.ButtonHandler_ctor,"ax",%progbits
 117              		.align	1
 118              		.global	ButtonHandler_ctor
 119              		.syntax unified
 120              		.code	16
 121              		.thumb_func
 123              	ButtonHandler_ctor:
 124              	.LFB231:
  17:Core/Src/button_handler.c **** void ButtonHandler_ctor(void) {
 125              		.loc 1 17 31 is_stmt 1 view -0
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 0
 128              		@ frame_needed = 0, uses_anonymous_args = 0
 129 0000 10B5     		push	{r4, lr}
 130              	.LCFI1:
 131              		.cfi_def_cfa_offset 8
 132              		.cfi_offset 4, -8
ARM GAS  C:\Users\main\AppData\Local\Temp\ccJ1teBU.s 			page 4


 133              		.cfi_offset 14, -4
  18:Core/Src/button_handler.c ****     QActive_ctor(&l_ButtonHandler.super, Q_STATE_CAST(&ButtonHandler_initial));
 134              		.loc 1 18 5 view .LVU21
 135 0002 0249     		ldr	r1, .L11
 136 0004 0248     		ldr	r0, .L11+4
 137 0006 FFF7FEFF 		bl	QActive_ctor
 138              	.LVL8:
  19:Core/Src/button_handler.c **** }
 139              		.loc 1 19 1 is_stmt 0 view .LVU22
 140              		@ sp needed
 141 000a 10BD     		pop	{r4, pc}
 142              	.L12:
 143              		.align	2
 144              	.L11:
 145 000c 00000000 		.word	ButtonHandler_initial
 146 0010 00000000 		.word	l_ButtonHandler
 147              		.cfi_endproc
 148              	.LFE231:
 150              		.global	AO_ButtonHandler
 151              		.section	.bss.l_ButtonHandler,"aw",%nobits
 152              		.align	2
 155              	l_ButtonHandler:
 156 0000 00000000 		.space	192
 156      00000000 
 156      00000000 
 156      00000000 
 156      00000000 
 157              		.section	.data.AO_ButtonHandler,"aw"
 158              		.align	2
 161              	AO_ButtonHandler:
 162 0000 00000000 		.word	l_ButtonHandler
 163              		.section	.rodata.buttonEvt.0,"a"
 164              		.align	2
 165              		.set	.LANCHOR0,. + 0
 168              	buttonEvt.0:
 169 0000 0400     		.short	4
 170 0002 0000     		.space	2
 171              		.text
 172              	.Letext0:
 173              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 174              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 175              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 176              		.file 5 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM0/portmacro.h"
 177              		.file 6 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 178              		.file 7 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 179              		.file 8 "Middlewares/Third_Party/QuantumLeaps_RTEF_qpc/include/qp.h"
 180              		.file 9 "Core/Inc/button_handler.h"
 181              		.file 10 "Core/Inc/lcd_display.h"
 182              		.file 11 "Core/Inc/events.h"
ARM GAS  C:\Users\main\AppData\Local\Temp\ccJ1teBU.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 button_handler.c
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:18     .text.ButtonHandler_initial:00000000 $t
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:23     .text.ButtonHandler_initial:00000000 ButtonHandler_initial
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:46     .text.ButtonHandler_initial:00000008 $d
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:56     .text.ButtonHandler_active:00000000 ButtonHandler_active
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:51     .text.ButtonHandler_active:00000000 $t
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:108    .text.ButtonHandler_active:00000024 $d
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:117    .text.ButtonHandler_ctor:00000000 $t
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:123    .text.ButtonHandler_ctor:00000000 ButtonHandler_ctor
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:145    .text.ButtonHandler_ctor:0000000c $d
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:155    .bss.l_ButtonHandler:00000000 l_ButtonHandler
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:161    .data.AO_ButtonHandler:00000000 AO_ButtonHandler
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:152    .bss.l_ButtonHandler:00000000 $d
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:158    .data.AO_ButtonHandler:00000000 $d
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:164    .rodata.buttonEvt.0:00000000 $d
C:\Users\main\AppData\Local\Temp\ccJ1teBU.s:168    .rodata.buttonEvt.0:00000000 buttonEvt.0

UNDEFINED SYMBOLS
QActive_post_
QHsm_top
AO_LCD_Display
QActive_ctor
